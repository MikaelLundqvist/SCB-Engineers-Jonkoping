)
names(model)
model$fitted.values
names(model)
plot_model(model, type = "pred", terms = c("bs(age_n\, knots = c(30, 40, 50, 60))", "sex")
plot_model(model, type = "pred", terms = c("bs(age_n\\, knots = c(30, 40, 50, 60))", "sex")
)
plot_model(model, type = "pred", terms = c("bs(age_n, knots = c(30, 40, 50, 60))", "sex")
)
model$coefficients
plot_model(model, type = "pred", terms = c("bs(age_n, knots = c(30, 40, 50, 60))1", "sex")
)
plot_model(model, type = "int")
model <- lm (log(salary) ~ year_n + sex * age_n, data = tb)
Anova(model, type=2)
model <- lm (log(salary) ~ year_n + sex * poly(age_n, 3), data = tb)
Anova(model, type=2)
plot_model(model, type = "int")
plot_model(model, type = "pred", terms = c("poly(age_n, 3)", "sex")
)
plot_model(model, type = "pred", terms = c(""poly(age_n, 3)"", "sex"))
names(model$coefficients)
plot_model(model, type = "pred", terms = c("poly(age_n, 3)1", "sex"))
length(names(model$coefficients))
attr(model$terms , "term.labels")
plot_model(model, type = "pred", terms = c("poly(age_n,3)", "sex")
)
model <- lm (log(salary) ~ year_n + sex * poly(age_n,3), data = tb)
plot_model(model, type = "pred", terms = c("poly(age_n,3)", "sex"))
plot_model(model, type = "pred", terms = c("age_n", "sex"))
tbnum <- tb %>%
right_join(numedulevel, by = c("level of education" = "level.of.education")) %>%
filter(!is.na(eduyears))
tb <- readfile("000000CY.csv") %>%
filter(`occuptional  (SSYK 2012)` == "214 Engineering professionals")
numedulevel <- read.csv("edulevel.csv")
tbnum <- tb %>%
right_join(numedulevel, by = c("level of education" = "level.of.education")) %>%
filter(!is.na(eduyears))
model <- lm (log(salary) ~ year_n + eduyears, data = tbnum)
model <- lm (log(salary) ~ year_n * sex + eduyears, data = tbnum)
plot_model(model, type = "pred", terms = c("year_n", "sex"))
Anova(model, type=2)
model <- lm (log(salary) ~ year_n + sex * edulevel, data = tbnum)
model <- lm (log(salary) ~ year_n + sex * eduyears, data = tbnum)
Anova(model, type=2)
plot_model(model, type = "pred", terms = c("eduyears", "sex"))
model <- lm(log(salary) ~ sex * bs(eduyears, knots = c(14)) + year_n, data = tbnum)
plot_model(model, type = "pred", terms = c("eduyears", "sex"))
model <- lm(log(salary) ~ sex + year_n * bs(eduyears, knots = c(14)), data = tbnum)
Anova(model, type=2)
plot_model(model, type = "pred", terms = c("year_n", "sex"))
model <- lm(log(salary) ~ sex * bs(eduyears, knots = c(14)) + year_n, data = tbnum)
plot_model(model, type = "pred", terms = c("eduyears", "sex"))
Anova(model, type=2)
model <- lm(log(salary) ~ sex + bs(eduyears, knots = c(14)) * year_n, data = tbnum)
Anova(model, type=2)
model <- lm(log(salary) ~ sex * bs(eduyears, knots = c(14)) + year_n, data = tbnum)
Anova(model, type=2)
tukeytable <- TukeyHSD(aov(log(salary) ~ year_n + sex + edulevel, data = tb)) %>%
tidy() %>%
mutate(percdiff = (1 / exp(estimate) - 1) * 100)
tb <- readfile("000000CY.csv") %>%
filter(`occuptional  (SSYK 2012)` == "214 Engineering professionals") %>%
mutate(edulevel = `level of education`)
tukeytable <- TukeyHSD(aov(log(salary) ~ year_n + sex + edulevel, data = tb)) %>%
tidy() %>%
mutate(percdiff = (1 / exp(estimate) - 1) * 100)
tukeytable <- TukeyHSD(aov(log(salary) ~ sex + edulevel, data = tb)) %>%
tidy() %>%
mutate(percdiff = (1 / exp(estimate) - 1) * 100)
tukeytable <- TukeyHSD(aov(log(salary) ~ sex * edulevel, data = tb)) %>%
tidy() %>%
mutate(percdiff = (1 / exp(estimate) - 1) * 100)
tukeytable <- TukeyHSD(aov(log(salary) ~ sex + edulevel, data = tb)) %>%
tidy() %>%
mutate(percdiff = (1 / exp(estimate) - 1) * 100)
tukeytable <- TukeyHSD(aov(log(salary) ~ year_n + sex + edulevel, data = tb)) %>%
tidy() %>%
mutate(percdiff = (1 / exp(estimate) - 1) * 100)
tukeytable <- TukeyHSD(aov(log(salary) ~ year_n + sex + edulevel, data = tb)) %>%
tidy()
tukeytable <- TukeyHSD(aov(log(salary) ~ sex * edulevel, data = tb)) %>%
tidy()
view(tukeytable)
tb_f <- tb %>% mutate(year_f = to_factor(year_n))
tb_f <- tb %>% mutate(year_f = factor(year_n))
tukeytable <- TukeyHSD(aov(log(salary) ~ year_f + sex * edulevel, data = tb_f)) %>%
tidy()
tukeytable <- TukeyHSD(aov(log(salary) ~ year_f + sex + edulevel, data = tb_f)) %>%
tidy()
view(tukeytable)
tukeytable <- TukeyHSD(aov(log(salary) ~ sex + edulevel, data = tb_f)) %>%
tidy()
view(tukeytable)
tukeytable <- TukeyHSD(aov(log(salary) ~ sex * edulevel, data = tb)) %>%
tidy()
view(tukeytable)
tb %>% mutate(comp = unlist(strsplit(comparison, ")-")))
tukeytable %>% mutate(comp = unlist(strsplit(comparison, ")-")))
tukeytable %>% rowwise() %>% mutate(comp = unlist(strsplit(comparison, ")-")))
tukeytable %>% rowwise() %>% mutate(comp = unlist(strsplit(comparison, ")-")))[1]
tukeytable %>% rowwise() %>% mutate(comp = unlist(strsplit(comparison, "-")))[1]
tukeytable %>%
rowwise() %>%
mutate(comp_from = unlist(strsplit(comparison, "-"))[1])
tukeytable %>%
rowwise() %>%
mutate(comp_from = unlist(strsplit(comparison, ")-"))[1])
tukeytable <- tukeytable %>%
rowwise() %>%
mutate(comp_from = unlist(strsplit(comparison, ")-"))[1]) %>%
rowwise() %>%
mutate(comp_to = unlist(strsplit(comparison, ")-"))[2])
tukeytable %>% filter(comp_from == comp_to)
view(tukeytable)
tukeytable <- tukeytable %>%
rowwise() %>%
mutate(comp_from = unlist(strsplit(comp_from, ":"))[2]) %>%
rowwise() %>%
mutate(comp_to = unlist(strsplit(comp_to, ":"))[2])
view(tukeytable)
tukeytable %>% filter(comp_from == comp_to)
tukeytable <- TukeyHSD(aov(log(salary) ~ sex * edulevel, data = tb)) %>%
tidy()
tukeytable <- tukeytable %>%
tukeytable <- tukeytable %>%
rowwise() %>%
mutate(comp_from = unlist(strsplit(comparison, ")-"))[1]) %>%
rowwise() %>%
mutate(comp_to = unlist(strsplit(comparison, ")-"))[2]) %>%             mutate(comp_from = paste (comp_from, ")", sep=""))
tukeytable <- tukeytable %>%
rowwise() %>%
mutate(comp_from = unlist(strsplit(comp_from, ":"))[2]) %>%
rowwise() %>%
mutate(comp_to = unlist(strsplit(comp_to, ":"))[2])
tukeytable %>% filter(comp_from == comp_to)
tukeytable2 <- tukeytable %>% filter(comp_from == comp_to)
view(tukeytable2)
tukeytable <- TukeyHSD(aov(log(salary) ~ year_f + sex * edulevel, data = tb_f)) %>%
tidy()
tukeytable <- tukeytable %>%
rowwise() %>%
mutate(comp_from = unlist(strsplit(comparison, ")-"))[1]) %>%
rowwise() %>%
mutate(comp_to = unlist(strsplit(comparison, ")-"))[2]) %>%             mutate(comp_from = paste (comp_from, ")", sep=""))
tukeytable <- tukeytable %>%
rowwise() %>%
mutate(comp_from = unlist(strsplit(comp_from, ":"))[2]) %>%
rowwise() %>%
mutate(comp_to = unlist(strsplit(comp_to, ":"))[2])
tukeytable2
dim(tb_f)
tb_f$`occuptional  (SSYK 2012)`
model <- lm(log(salary) ~ sex * bs(eduyears, knots = c(14)) + year_n, data = tb_f)
tbnum_f <- tb_f %>%
right_join(numedulevel, by = c("level of education" = "level.of.education")) %>%
filter(!is.na(eduyears))
model <- lm(log(salary) ~ sex * bs(eduyears, knots = c(14)) + year_n, data = tbnum_f)
summary(model)
Anova(model, type=2)
model <- lm(log(salary) ~ sex * bs(edulevel, knots = c(14)) + year_n, data = tbnum_f)
model <- lm(log(salary) ~ sex * edulevel + year_n, data = tbnum_f)
Anova(model, type=2)
summary(model)
model <- lm(salary ~ sex * bs(eduyears, knots = c(14)) + year_n, data = tbnum)
plot_model(model, type = "pred", terms = c("eduyears", "sex"))
model <- lm(log(salary) ~ sex * bs(eduyears, knots = c(14)) + year_n, data = tbnum)
plot_model(model, type = "pred", terms = c("eduyears", "sex"))
tb <- readfile("000000CY.csv") %>%
filter(`occuptional  (SSYK 2012)` == "214 Engineering professionals")
numedulevel <- read.csv("edulevel.csv")
tbnum <- tb %>%
right_join(numedulevel, by = c("level of education" = "level.of.education")) %>%
filter(!is.na(eduyears))
model <- lm(log(salary) ~ sex + year_n * bs(eduyears, knots = c(14)), data = tbnum)
plot_model(model, type = "pred", terms = c("year_n", "sex"))
model <- lm(log(salary) ~ sex * bs(eduyears, knots = c(14)) + year_n, data = tbnum)
plot_model(model, type = "pred", terms = c("eduyears", "sex"))
model <- lm (log(salary) ~ year_n + sex * bs(age_n, knots = c(30, 40, 50, 60)), data = tb)
tb <- readfile("00000031.csv") %>%
rowwise() %>%
mutate(age_l = unlist(lapply(strsplit(substr(age, 1, 5), "-"), strtoi))[1]) %>%
rowwise() %>%
mutate(age_h = unlist(lapply(strsplit(substr(age, 1, 5), "-"), strtoi))[2]) %>%
mutate(age_n = (age_l + age_h) / 2)
model <- lm (log(salary) ~ year_n + sex * bs(age_n, knots = c(30, 40, 50, 60)), data = tb)
plot_model(model, type = "pred", terms = c("age_n", "sex"))
model <- lm (log(salary) ~ year_n * sex + bs(age_n, knots = c(30, 40, 50, 60)), data = tb)
plot_model(model, type = "pred", terms = c("year_n", "sex"))
model <- lm (log(salary) ~ year_n + sex * bs(age_n, knots = c(30, 40, 50, 60)), data = tb)
plot_model(model, type = "pred", terms = c("age_n", "sex"))
model <- lm (log(salary) ~ year_n + sex * poly(age_n, 3, data = tb))
tb <- readfile("00000031.csv") %>%
rowwise() %>%
mutate(age_l = unlist(lapply(strsplit(substr(age, 1, 5), "-"), strtoi))[1]) %>%
rowwise() %>%
mutate(age_h = unlist(lapply(strsplit(substr(age, 1, 5), "-"), strtoi))[2]) %>%
mutate(age_n = (age_l + age_h) / 2)
model <- lm (log(salary) ~ year_n + sex * poly(age_n, 3, data = tb))
model <- lm (log(salary) ~ year_n + sex * poly(age_n, 3), data = tb)
plot_model(model, type = "pred", terms = c("age_n", "sex"))
summary(model)
model <- lm (log(salary) ~ year_n + sex * bs(age_n, knots = c(35, 50)), data = tb)
plot_model(model, type = "pred", terms = c("age_n", "sex"))
summary(model)
view(tb)
model <- lm (log(salary) ~ year_n + sex * age, data = tb)
summary(model) %>%
tidy() %>%
knitr::kable(
booktabs = TRUE,
caption = 'Summary from linear model fit')
summary(model)
plot(model)
model <- lm (log(salary) ~ year_n * sex + age, data = tb)
summary(model)
model <- lm (log(salary) ~ sex + year_n * age, data = tb)
summary(model)
Anova(model, type=2)
plot_model(model, type = "pred", terms = c("year_n", "age"))
plot_model(model, type = "pred", terms = c("age", "year_n"))
plot_model(model, type = "pred", terms = c("year_n", "age"))
plot_model(model, type = "pred", terms = c("year_n", "age [2-10]"))
plot_model(model, type = "pred", terms = c("year_n", "age [2]"))
plot_model(model, type = "pred", terms = c("year_n", "age"))
library(RColorBrewer)
colourCount = length(unique(tb$age))
plot_model(model, type = "pred", terms = c("year_n", "age"))
getPalette = colorRampPalette(brewer.pal(9, "Set1"))
getPalette
plot_grpfrq(
geom.colors = getPalette
)
plot_grpfrq(
efc$e42dep,
efc$e15relat,
geom.colors = getPalette,
show.values = FALSE
)
plot_model(model, type = "pred", terms = c("year_n", "age"), geom.colors = getPalette)
plot_model(model, type = "pred", terms = c("year_n", "age"), geom.colors = "PuRd")
library(RColorBrewer)
display.brewer.all()
plot_model(model, type = "pred", terms = c("year_n", "age"), colors = "PuRd")
plot_model(model, type = "pred", terms = c("year_n", "age"), colors = "set1")
library(RColorBrewer)
display.brewer.all()
plot_model(model, type = "pred", terms = c("year_n", "age"), colors = "Set3")
model <- lm (log(salary) ~ year_n + sex * age, data = tb)
summary(model)
plot_model(model, type = "pred", terms = c("year_n", "sex"))
plot_model(model, type = "pred", terms = c("age", "sex"))
model <- lm (log(salary) ~ year_n * sex + age_n, data = tb)
summary(model)
model <- lm (log(salary) ~ year_n * sex + bs(age_n, knots = c(35, 50)), data = tb)
summary(model)
plot_model(model, type = "pred", terms = c("year_n", "sex"))
model <- lm (log(salary) ~ sex + year_n * bs(age_n, knots = c(35, 50)), data = tb)
summary(model)
plot_model(model, type = "pred", terms = c("year_n", "age"), colors = "Set3")
plot_model(model, type = "pred", terms = c("year_n", "age_n"), colors = "Set3")
plot_model(model, type = "pred", terms = c("year_n", "age_n"))
model <- lm (log(salary) ~ year_n + sex * age, data = tb)
plot_model(model, type = "pred", terms = c("age", "sex"))
model <- lm (log(salary) ~ year_n + sex * bs(age_n, knots = c(35, 50)), data = tb)
plot_model(model, type = "pred", terms = c("age", "sex"))
plot_model(model, type = "pred", terms = c("age_n", "sex"))
model <- lm (log(salary) ~ year_n * sex + age, data = tb)
summary(model)
model <- lm (log(salary) ~ year * sex + age, data = tb)
summary(model)
model <- lm (log(salary) ~ year_n * sex + age, data = tb)
plot_model(model, type = "pred", terms = c("year_n", "sex"))
model <- lm (log(salary) ~ year_n * sex + age_n, data = tb)
plot_model(model, type = "pred", terms = c("year_n", "sex"))
model <- lm (log(salary) ~ year_n * sex + age, data = tb)
plot_model(model, type = "pred", terms = c("year_n", "sex"))
summary(model)
model <- lm(log(salary) ~ sex + year_n * edulevel, data = tbnum)
tb <- readfile("000000CY.csv") %>%
filter(`occuptional  (SSYK 2012)` == "214 Engineering professionals") %>%
mutate(edulevel = `level of education`)
numedulevel <- read.csv("edulevel.csv")
tbnum <- tb %>%
right_join(numedulevel, by = c("level of education" = "level.of.education")) %>%
filter(!is.na(eduyears))
numedulevel %>%
knitr::kable(
booktabs = TRUE,
caption = 'Initial approach, length of education')
model <- lm(log(salary) ~ sex + year_n * edulevel, data = tbnum)
summary(model)
plot_model(model, type = "pred", terms = c("year_n", "edulevel"))
model <- lm(log(salary) ~ sex + year_n * bs(eduyears, knots = c(14)), data = tbnum)
plot_model(model, type = "pred", terms = c("year_n", "eduyears"))
model <- lm(log(salary) ~ sex * edulevel + year_n, data = tbnum)
summary(model)
plot_model(model, type = "pred", terms = c("edulevel", "sex"))
model <- lm(log(salary) ~ sex * bs(eduyears, knots = c(14)) + year_n, data = tbnum)
plot_model(model, type = "pred", terms = c("eduyears", "sex"))
model <- lm(log(salary) ~ sex * year_n + edulevel, data = tbnum)
summary(model)
plot_model(model, type = "pred", terms = c("year_n", "sex"))
model <- lm(log(salary) ~ sex * year_n + bs(eduyears, knots = c(14)), data = tbnum)
summary(model)
plot_model(model, type = "pred", terms = c("year_n", "sex"))
model <- lm (log(salary) ~ sex + year_n * age, data = tb)
tb <- readfile("00000031.csv") %>%
rowwise() %>%
mutate(age_l = unlist(lapply(strsplit(substr(age, 1, 5), "-"), strtoi))[1]) %>%
rowwise() %>%
mutate(age_h = unlist(lapply(strsplit(substr(age, 1, 5), "-"), strtoi))[2]) %>%
mutate(age_n = (age_l + age_h) / 2)
tb %>%
ggplot () +
geom_point (mapping = aes(x = year_n,y = salary, colour = age, shape=sex)) +
labs(
x = "Year",
y = "Salary (SEK/month)"
)
model <- lm (log(salary) ~ sex + year_n * age, data = tb)
summary(model)
model <- lm (log(salary) ~ sex + year_n * bs(age_n, knots = c(35, 50)), data = tb)
summary(model)
plot_model(model, type = "pred", terms = c("year_n", "age_n"))
model <- lm (log(salary) ~ sex + year_n * age, data = tb)
summary(model)
plot_model(model, type = "pred", terms = c("year_n", "age"), colors = "Set3")
view(tb)
model <- lm (log(salary) ~ year_n + sex * age, data = tb)
summary(model)
Anova(model, type=2)
plot_model(model, type = "pred", terms = c("age", "sex"))
model <- lm (log(salary) ~ year_n + sex * bs(age_n, knots = c(35, 50)), data = tb)
summary(model)
plot_model(model, type = "pred", terms = c("age_n", "sex"))
Anova(model, type=2)
model <- lm (log(salary) ~ year_n * sex + age, data = tb)
summary(model)
plot_model(model, type = "pred", terms = c("year_n", "sex"))
model <- lm (log(salary) ~ year_n * sex + bs(age_n, knots = c(35, 50)), data = tb)
summary(model)
plot_model(model, type = "pred", terms = c("year_n", "sex"))
model <- lm(log(salary) ~ sex + year_n * edulevel, data = tbnum)
summary(model)
model <- lm(log(salary) ~ sex + year_n * bs(eduyears, knots = c(14)), data = tbnum)
summary(model)
Anova(model, type=2)
model <- lm(log(salary) ~ sex * edulevel + year_n, data = tbnum)
summary(model)
plot_model(model, type = "pred", terms = c("edulevel", "sex"))
model <- lm(log(salary) ~ sex * bs(eduyears, knots = c(14)) + year_n, data = tbnum)
plot_model(model, type = "pred", terms = c("eduyears", "sex"))
model <- lm(log(salary) ~ sex * year_n + edulevel, data = tbnum)
summary(model)
plot_model(model, type = "pred", terms = c("year_n", "sex"))
model <- lm(log(salary) ~ sex * year_n + bs(eduyears, knots = c(14)), data = tbnum)
plot_model(model, type = "pred", terms = c("eduyears", "sex"))
model <- lm(log(salary) ~ sex * year_n + edulevel, data = tbnum)
plot_model(model, type = "pred", terms = c("year_n", "sex"))
summary(model)
tb <- readfile("00000031.csv") %>%
rowwise() %>%
mutate(age_l = unlist(lapply(strsplit(substr(age, 1, 5), "-"), strtoi))[1]) %>%
rowwise() %>%
mutate(age_h = unlist(lapply(strsplit(substr(age, 1, 5), "-"), strtoi))[2]) %>%
mutate(age_n = (age_l + age_h) / 2)
tb %>%
ggplot () +
geom_point (mapping = aes(x = year_n,y = salary, colour = age, shape=sex)) +
labs(
x = "Year",
y = "Salary (SEK/month)"
)
model <- lm (log(salary) ~ year_n + sex + age, data = tb)
plot(model)
tb[38,]
tb[72,]
tb[56,]
model <- lm (log(salary) ~ sex + year_n * age, data = tb)
plot(model)
tb[19,]
model <- lm (log(salary) ~ year_n + sex * age, data = tb)
plot(model)
model <- lm (log(salary) ~ year_n * sex + age, data = tb)
plot(model)
tb <- readfile("000000CY.csv") %>%
filter(`occuptional  (SSYK 2012)` == "214 Engineering professionals") %>%
mutate(edulevel = `level of education`)
numedulevel <- read.csv("edulevel.csv")
tbnum <- tb %>%
right_join(numedulevel, by = c("level of education" = "level.of.education")) %>%
filter(!is.na(eduyears))
model <- lm(log(salary) ~ sex + year_n * edulevel, data = tbnum)
plot(model)
tbnum[10,]
tbnum[25,]
tbnum[29,]
model <- lm(log(salary) ~ sex * edulevel + year_n, data = tbnum)
plot(model)
model <- lm(log(salary) ~ sex * year_n + edulevel, data = tbnum)
plot(model)
tb <- readfile("00000031.csv") %>%
rowwise() %>%
mutate(age_l = unlist(lapply(strsplit(substr(age, 1, 5), "-"), strtoi))[1]) %>%
rowwise() %>%
mutate(age_h = unlist(lapply(strsplit(substr(age, 1, 5), "-"), strtoi))[2]) %>%
mutate(age_n = (age_l + age_h) / 2)
model <- lm (log(salary) ~ year_n + sex + age, data = tb)
plot(model)
model <- lm (log(salary) ~ year_n + sex * age, data = tb)
plot(model)
model <- lm (log(salary) ~ year_n + sex + age, data = tb)
plot(model)
tb[72,]
tb[75,]
0.0771083 + 0.0069060
exp(-0.0338702)
exp(0.0338702)
model <- lm (log(salary) ~ year_n * sex * age, data = tb)
summary(model)
Anova(model,type=2)
plot_model(model, type = "pred", terms = c("year_n", "age_n", "sex"))
plot_model(model, type = "pred", terms = c("year_n", "age", "sex"))
plot_model(model, type = "pred", terms = c("year_n", "age", "sex"), colors = "Set3")
model <- lm (log(salary) ~ year_n * sex * age_n, data = tb)
plot_model(model, type = "pred", terms = c("year_n", "age_n", "sex"), colors = "Set3")
plot_model(model, type = "pred", terms = c("age_n", "year_n", "sex"), colors = "Set3")
summary(model)
Anova(model,type=2)
summary(model)
model <- lm (log(salary) ~ year_n * sex * age, data = tb)
plot_model(model, type = "pred", terms = c("age", "year_n", "sex"), colors = "Set3")
Anova(model,type=2)
summary(model)
Anova(model,type=2)
plot(model)
tb[19,]
model <- lm (log(salary) ~ sex * year_n * bs(age_n, knots = c(35, 50)), data = tb)
summary(model)
Anova(model,type=2)
plot_model(model, type = "pred", terms = c("age_n", "year_n", "sex"), colors = "Set3")
plot_model(model, type = "pred", terms = c("age_n", "year_n", "sex"))
model <- lm (log(salary) ~ year_n * sex * age, data = tb)
plot_model(model, type = "pred", terms = c("age", "year_n", "sex"), colors = "Set3")
plot_model(model, type = "pred", terms = c("age", "year_n", "sex"))
exp(0.0771083)
exp(0.0837412)
tb <- readfile("000000CY.csv") %>%
filter(`occuptional  (SSYK 2012)` == "214 Engineering professionals") %>%
mutate(edulevel = `level of education`)
numedulevel <- read.csv("edulevel.csv")
tbnum <- tb %>%
right_join(numedulevel, by = c("level of education" = "level.of.education")) %>%
filter(!is.na(eduyears))
numedulevel %>%
knitr::kable(
booktabs = TRUE,
caption = 'Initial approach, length of education')
model <- lm(log(salary) ~ sex * year_n * edulevel, data = tbnum)
summary(model)
Anova(model,type=2)
plot_model(model, type = "pred", terms = c("year_n", "sex", "edulevel"))
plot_model(model, type = "pred", terms = c("year_n", "edulevel", "sex"))
summary(model)
tb <- readfile("00000031.csv") %>%
rowwise() %>%
mutate(age_l = unlist(lapply(strsplit(substr(age, 1, 5), "-"), strtoi))[1]) %>%
rowwise() %>%
mutate(age_h = unlist(lapply(strsplit(substr(age, 1, 5), "-"), strtoi))[2]) %>%
mutate(age_n = (age_l + age_h) / 2)
Anova(model,type=2)
model <- lm (log(salary) ~ year_n + sex + age, data = tb)
Anova(model,type=2)
summary(model)
model <- lm (log(salary) ~ year_n * sex * age, data = tb)
summary(model)
Anova(model,type=2)
tb <- readfile("000000CY.csv") %>%
filter(`occuptional  (SSYK 2012)` == "214 Engineering professionals") %>%
mutate(edulevel = `level of education`)
numedulevel <- read.csv("edulevel.csv")
tbnum <- tb %>%
right_join(numedulevel, by = c("level of education" = "level.of.education")) %>%
filter(!is.na(eduyears))
model <- lm(log(salary) ~ sex * year_n * edulevel, data = tbnum)
Anova(model,type=2)
summary(model)
Anova(model,type=2)
model <- lm(log(salary) ~ sex + year_n + edulevel, data = tbnum)
Anova(model,type=2)
tb <- readfile("00000031.csv") %>%
rowwise() %>%
mutate(age_l = unlist(lapply(strsplit(substr(age, 1, 5), "-"), strtoi))[1]) %>%
rowwise() %>%
mutate(age_h = unlist(lapply(strsplit(substr(age, 1, 5), "-"), strtoi))[2]) %>%
mutate(age_n = (age_l + age_h) / 2)
view(tb)
tb <- readfile("000000CY.csv") %>%
filter(`occuptional  (SSYK 2012)` == "214 Engineering professionals") %>%
mutate(edulevel = `level of education`)
numedulevel <- read.csv("edulevel.csv")
tbnum <- tb %>%
right_join(numedulevel, by = c("level of education" = "level.of.education")) %>%
filter(!is.na(eduyears))
model <- lm (log(salary) ~ year_n + sex + edulevel, data = tb)
Anova(model, type = 2)
summary(model)
model <- lm (log(salary) ~ year_n + sex + edulevel, data = tbnum)
summary(model)
blogdown:::serve_site()
